<?xml version="1.0" encoding="utf-8"?>
<TcPlcObject Version="1.1.0.1" ProductVersion="3.1.4024.12">
  <POU Name="POU_MoveToPos" Id="{019e9391-8b31-416e-bfec-603f50debe2b}" SpecialFunc="None">
    <Declaration><![CDATA[FUNCTION_BLOCK PUBLIC POU_MoveToPos
VAR_INPUT
	requiredPos: INT;
	actualpos: INT;
	speed: INT;
END_VAR
VAR_OUTPUT	
	newpos : INT;
END_VAR
VAR
	startTimer: BOOL;
	calculatedTime: TIME;

	timer: ton;
	testbuitenif: INT;
	test: INT;

END_VAR
]]></Declaration>
    <Implementation>
      <ST><![CDATA[IF timer.IN = FALSE THEN
	 starttimer:=TRUE;
END_IF
calculatedTime :=INT_TO_TIME(1000/speed);
timer(in:= startTimer, pt:= calculatedTime);
//testbuitenif := testbuitenif + 1;
IF timer.Q THEN
	//test := test + 1;
	startTimer:=FALSE;
	IF requiredPos < actualpos THEN
		newpos := actualPos -1;
		//startTimer:= TRUE;
	ELSIF requiredpos > actualpos THEN
		newpos := actualPos +1; 
		//startTimer:= TRUE;
	END_IF
END_IF]]></ST>
    </Implementation>
    <LineIds Name="POU_MoveToPos">
      <LineId Id="17" Count="0" />
      <LineId Id="49" Count="1" />
      <LineId Id="18" Count="7" />
      <LineId Id="47" Count="0" />
      <LineId Id="26" Count="1" />
      <LineId Id="48" Count="0" />
      <LineId Id="28" Count="0" />
      <LineId Id="9" Count="0" />
    </LineIds>
  </POU>
</TcPlcObject>